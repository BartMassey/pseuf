%ident a n i l r
%keyword from
to qsort an array a:
    n <- dim a
    if n <= 1 then return a
    exchange a[1] with a[n div 2]
    l <- 2
    r <- n
    while l < r
	if a[l] > a[1] then
	    exchange a[l] with a[r]
	    decrement r
        else
	    increment l
    exchange a[1] with a[l]
    qsort a[1 .. l - 1]
    qsort a[l + 1 .. n]
